{"remainingRequest":"C:\\Users\\chadl\\Documents\\Programming\\blog-project\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\chadl\\Documents\\Programming\\blog-project\\src\\views\\Cart.vue?vue&type=template&id=c028c34c","dependencies":[{"path":"C:\\Users\\chadl\\Documents\\Programming\\blog-project\\src\\views\\Cart.vue","mtime":1646348942326},{"path":"C:\\Users\\chadl\\Documents\\Programming\\blog-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646348932422},{"path":"C:\\Users\\chadl\\Documents\\Programming\\blog-project\\node_modules\\babel-loader\\lib\\index.js","mtime":1646348931310},{"path":"C:\\Users\\chadl\\Documents\\Programming\\blog-project\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1646348941451},{"path":"C:\\Users\\chadl\\Documents\\Programming\\blog-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646348932422},{"path":"C:\\Users\\chadl\\Documents\\Programming\\blog-project\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646348941440}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIG10LTUgcHQtNCI+DQogICAgICA8ZGl2IGlkPSJjYXJ0Ij48L2Rpdj4NCiAgICAgIDxkaXYNCiAgICAgICAgaWQ9ImNhcnQtZm9vdGVyIg0KICAgICAgICBjbGFzcz0iZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBtYi0zIg0KICAgICAgPjwvZGl2Pg0KICAgIDwvZGl2Pg0KDQo="},{"version":3,"sources":["C:\\Users\\chadl\\Documents\\Programming\\blog-project\\src\\views\\Cart.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MAC/D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/chadl/Documents/Programming/blog-project/src/views/Cart.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"container mt-5 pt-4\">\r\n      <div id=\"cart\"></div>\r\n      <div\r\n        id=\"cart-footer\"\r\n        class=\"d-flex justify-content-between align-items-center mb-3\"\r\n      ></div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n  },\r\n  mounted() {\r\n   const cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n  ? JSON.parse(localStorage.getItem(\"cart\"))\r\n  : [];\r\n\r\n// READ\r\nconsole.log(cart);\r\nfunction readCart(cart) {\r\n  document.querySelector(\"#cart\").innerHTML = \"\";\r\n\r\n  let total = cart\r\n    .reduce((total, product) => {\r\n      return total + product.price * product.qty;\r\n    }, 0)\r\n    .toFixed(2);\r\n\r\n  cart.forEach((product, position) => {\r\n    document.querySelector(\"#cart\").innerHTML += `\r\n      <div class=\"card mb-3 w-100  position-relative\" >\r\n      <button type=\"button\" class=\"position-absolute top-0 start-100 translate-middle badge btn btn-danger\" onclick=\"removeFromCart(${position})\">X</button>\r\n        <div class=\"row g-0\">\r\n          <div class=\"col-md-4\">\r\n            <img src=\"${product.img}\" class=\"img-fluid rounded-start\" alt=\"...\">\r\n          </div>\r\n          <div class=\"col-md-8\">\r\n            <div class=\"card-body d-flex flex-column container\">\r\n              <h5 class=\"card-title mb-3\">${product.title}</h5>\r\n              <div class=\"d-flex mb-3 justify-content-between\">\r\n                <p class=\"card-text\">Individual price: </p>\r\n                <span>R${product.price}<span>\r\n              </div>\r\n              <div class=\"d-flex mb-3 justify-content-between\">\r\n                <label class=\"form-label\">Quantity:</label>\r\n                <input type=\"number\" min=1 id=\"remove${position}\" value=${\r\n      product.qty\r\n    } onchange=\"updateCart(${position})\" />\r\n              </div>\r\n              <div class=\"card-footer bg-white d-flex justify-content-between  p-0 pt-3\">\r\n                <p>Total Cost: </p>\r\n                <span>R${(\r\n                  parseFloat(product.price) * parseInt(product.qty)\r\n                ).toFixed(2)}</span>\r\n              </div>\r\n            </div>  \r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  showCartBadge();\r\n  document.querySelector(\"#cart-footer\").innerHTML += `\r\n    <h3>Total cost: R${total}</h3>\r\n    <button class=\"btn btn-primary btn-lg\" onclick=\"checkout()\">\r\n      Checkout\r\n    </button>\r\n  `;\r\n}\r\n\r\n// Update Cart Badge\r\nfunction showCartBadge() {\r\n  document.querySelector(\"#badge\").innerHTML = cart ? cart.length : \"\";\r\n}\r\n\r\nreadCart(cart);\r\n\r\n// UPDATE\r\nfunction updateCart(position) {\r\n  let qty = document.querySelector(`#remove${position}`).value;\r\n  cart[position] = { ...cart[position], qty };\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  readCart(cart);\r\n}\r\n\r\n// REMOVE\r\nfunction removeFromCart(position) {\r\n  let confirmation = confirm(\r\n    \"Are you sure you want to remove this product from the cart?\"\r\n  );\r\n\r\n  if (confirmation) {\r\n    cart.splice(position, 1);\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    readCart(cart);\r\n  }\r\n}\r\n\r\n// CHECKOUT\r\nfunction checkout() {\r\n  let total = cart\r\n    .reduce((total, product) => {\r\n      return total + product.price * product.qty;\r\n    }, 0)\r\n    .toFixed(2);\r\n  try {\r\n    if (parseInt(total) == 0) throw new Error(\"Nothing in cart\");\r\n    let confirmation = confirm(`Total payment needed: R${total}`);\r\n\r\n    if (confirmation) {\r\n      cart.length = 0;\r\n      localStorage.removeItem(\"cart\");\r\n      readCart(cart);\r\n    }\r\n  } catch (err) {\r\n    alert(err);\r\n  }\r\n}\r\n\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style></style>\r\n"]}]}