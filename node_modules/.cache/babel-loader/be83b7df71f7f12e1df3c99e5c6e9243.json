{"remainingRequest":"/home/lifechoices/Documents/Blog-Front-End/node_modules/babel-loader/lib/index.js!/home/lifechoices/Documents/Blog-Front-End/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/lifechoices/Documents/Blog-Front-End/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lifechoices/Documents/Blog-Front-End/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lifechoices/Documents/Blog-Front-End/src/views/Cart.vue?vue&type=template&id=c028c34c","dependencies":[{"path":"/home/lifechoices/Documents/Blog-Front-End/src/views/Cart.vue","mtime":1646133720949},{"path":"/home/lifechoices/Documents/Blog-Front-End/babel.config.js","mtime":1645168384631},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogICJjbGFzcyI6ICJjb250YWluZXIgbXQtNSBwdC00Igp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGlkOiAiY2FydCIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGlkOiAiY2FydC1mb290ZXIiLAogICJjbGFzcyI6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTMiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF80ID0gW19ob2lzdGVkXzIsIF9ob2lzdGVkXzNdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIF9ob2lzdGVkXzQpOwp9"},{"version":3,"mappings":";;AACS,WAAM;;;8BACTA,oBAAqB,KAArB,EAAqB;AAAhBC,IAAE,EAAC;AAAa,CAArB,EAAc,IAAd,EAAc;AAAA;AAAd;;8BACAD,oBAGO,KAHP,EAGO;AAFLC,IAAE,EAAC,aAEE;AADL,WAAM;AACD,CAHP;;AAAA;;kBADAC,YACAC;;uBAFFC,oBAMM,KANN,cAMMC,UANN","names":["_createElementVNode","id","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_4"],"sourceRoot":"","sources":["/home/lifechoices/Documents/Blog-Front-End/src/views/Cart.vue"],"sourcesContent":["<template>\n    <div class=\"container mt-5 pt-4\">\n      <div id=\"cart\"></div>\n      <div\n        id=\"cart-footer\"\n        class=\"d-flex justify-content-between align-items-center mb-3\"\n      ></div>\n    </div>\n\n</template>\n\n<script>\n\nexport default {\n  name: 'app',\n  components: {\n  },\n  mounted() {\n   const cart = JSON.parse(localStorage.getItem(\"cart\"))\n  ? JSON.parse(localStorage.getItem(\"cart\"))\n  : [];\n\n// READ\nconsole.log(cart);\nfunction readCart(cart) {\n  document.querySelector(\"#cart\").innerHTML = \"\";\n\n  let total = cart\n    .reduce((total, product) => {\n      return total + product.price * product.qty;\n    }, 0)\n    .toFixed(2);\n\n  cart.forEach((product, position) => {\n    document.querySelector(\"#cart\").innerHTML += `\n      <div class=\"card mb-3 w-100  position-relative\" >\n      <button type=\"button\" class=\"position-absolute top-0 start-100 translate-middle badge btn btn-danger\" onclick=\"removeFromCart(${position})\">X</button>\n        <div class=\"row g-0\">\n          <div class=\"col-md-4\">\n            <img src=\"${product.img}\" class=\"img-fluid rounded-start\" alt=\"...\">\n          </div>\n          <div class=\"col-md-8\">\n            <div class=\"card-body d-flex flex-column container\">\n              <h5 class=\"card-title mb-3\">${product.title}</h5>\n              <div class=\"d-flex mb-3 justify-content-between\">\n                <p class=\"card-text\">Individual price: </p>\n                <span>R${product.price}<span>\n              </div>\n              <div class=\"d-flex mb-3 justify-content-between\">\n                <label class=\"form-label\">Quantity:</label>\n                <input type=\"number\" min=1 id=\"remove${position}\" value=${\n      product.qty\n    } onchange=\"updateCart(${position})\" />\n              </div>\n              <div class=\"card-footer bg-white d-flex justify-content-between  p-0 pt-3\">\n                <p>Total Cost: </p>\n                <span>R${(\n                  parseFloat(product.price) * parseInt(product.qty)\n                ).toFixed(2)}</span>\n              </div>\n            </div>  \n          </div>\n        </div>\n      </div>\n    `;\n  });\n  showCartBadge();\n  document.querySelector(\"#cart-footer\").innerHTML += `\n    <h3>Total cost: R${total}</h3>\n    <button class=\"btn btn-primary btn-lg\" onclick=\"checkout()\">\n      Checkout\n    </button>\n  `;\n}\n\n// Update Cart Badge\nfunction showCartBadge() {\n  document.querySelector(\"#badge\").innerHTML = cart ? cart.length : \"\";\n}\n\nreadCart(cart);\n\n// UPDATE\nfunction updateCart(position) {\n  let qty = document.querySelector(`#remove${position}`).value;\n  cart[position] = { ...cart[position], qty };\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\n  readCart(cart);\n}\n\n// REMOVE\nfunction removeFromCart(position) {\n  let confirmation = confirm(\n    \"Are you sure you want to remove this product from the cart?\"\n  );\n\n  if (confirmation) {\n    cart.splice(position, 1);\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    readCart(cart);\n  }\n}\n\n// CHECKOUT\nfunction checkout() {\n  let total = cart\n    .reduce((total, product) => {\n      return total + product.price * product.qty;\n    }, 0)\n    .toFixed(2);\n  try {\n    if (parseInt(total) == 0) throw new Error(\"Nothing in cart\");\n    let confirmation = confirm(`Total payment needed: R${total}`);\n\n    if (confirmation) {\n      cart.length = 0;\n      localStorage.removeItem(\"cart\");\n      readCart(cart);\n    }\n  } catch (err) {\n    alert(err);\n  }\n}\n\n  },\n}\n\n</script>\n\n<style></style>\n"]}]}